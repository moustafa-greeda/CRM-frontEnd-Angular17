/* ============================================================================
   DIALOGS & MODALS
   ============================================================================
   Dialog, modal, and overlay styles.
   ============================================================================ */

/* ========== Notify Dialog ========== */
app-notify-dialog-host .nd-overlay {
  position: fixed !important;
  inset: 0 !important;
  z-index: 2147483647 !important;
  display: grid !important;
  place-items: center !important;
  background: rgba(0, 0, 0, 0.45) !important;
}

app-notify-dialog-host .nd-modal {
  opacity: 1 !important;
  transform: scale(0.95) !important;
  border-radius: var(--radius-xl) !important;
  padding: var(--spacing-lg) var(--spacing-xl) !important;
  min-width: 500px !important;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.5), 0 6px 12px rgba(0, 0, 0, 0.35) !important;
  background: var(--bg-dark) !important;
  border: 1px solid var(--border-color) !important;
  animation: fade-in-scale 1s ease-out forwards;
}

/*-------------------------------- Agreement Dialog Styling --------------------------------*/
.agreement-dialog .mat-mdc-dialog-container {
  background: transparent !important;
  padding: 0 !important;
  border-radius: 12px !important;
  overflow: hidden !important;
}

.agreement-dialog .mat-mdc-dialog-surface {
  background: transparent !important;
  border-radius: 12px !important;
  overflow: hidden !important;
}
.mat-mdc-dialog-container {
  --mdc-dialog-container-color: transparent !important;
}

/* Remove white background from all dialogs */
.mat-mdc-dialog-surface {
  color: #fff !important;
}

.mat-mdc-dialog-container {
  backdrop-filter: blur(10px) !important;
}
.agreement-dialog .mat-mdc-dialog-content {
  padding: 0 !important;
  margin: 0 !important;
  max-height: none !important;
  overflow: visible !important;
}

/* Material Dialog Container - Center and Remove White Background */
.mdc-dialog__container {
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: rgba(17, 24, 31, 0.3);
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 20px !important;
}

.agreement-dialog .mdc-dialog__container {
  background-color: none;
  backdrop-filter: blur(1px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 20px !important;
}

.agreement-dialog .mdc-dialog__surface {
  border-radius: 12px !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
  max-width: 90vw !important;
  max-height: 90vh !important;
  width: 100% !important;
  height: auto !important;
  min-height: auto !important;
  overflow: visible !important;
  animation: fadeUpDialog 0.6s ease-out !important;
  background: transparent !important;
}

/* Agreement Dialog Overlay Backdrop - Multiple selectors to ensure it works */
.agreement-dialog-backdrop,
.agreement-dialog-backdrop.cdk-overlay-backdrop,
.cdk-overlay-container .agreement-dialog-backdrop,
.cdk-overlay-backdrop.agreement-dialog-backdrop {
  background: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(4px) !important;
  opacity: 1 !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 999 !important;
  animation: fadeInBackdrop 0.3s ease-out !important;
}

/* Using ::ng-deep for Angular view encapsulation */
::ng-deep .agreement-dialog-backdrop,
::ng-deep .agreement-dialog-backdrop.cdk-overlay-backdrop,
::ng-deep .cdk-overlay-container .agreement-dialog-backdrop,
::ng-deep .cdk-overlay-backdrop.agreement-dialog-backdrop {
  background: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(4px) !important;
  opacity: 1 !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 999 !important;
  animation: fadeInBackdrop 0.3s ease-out !important;
}

/* Agreement Dialog Container Animation */
::ng-deep .agreement-dialog .cdk-overlay-pane {
  animation: fadeUpDialog 0.6s ease-out !important;
}

/* Fade Up Animation for Agreement Dialog */
@keyframes fadeUpDialog {
  from {
    opacity: 0;
    transform: translateY(-30px) scale(0.65);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Fade In Animation for Backdrop */
@keyframes fadeInBackdrop {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
