<section class="dashboard-info">
  <!-- page header -->
  <app-page-header
    [title]="pageTitle"
    [breadcrumb]="breadcrumb"
  ></app-page-header>
  <app-count-card [stats]="stats"></app-count-card>
  <app-sales-charts></app-sales-charts>

  <!-- أفضل 3 مندوبين -->
  <div class="top-salespeople-section border-card">
    <span class="corner tl"></span>
    <span class="corner tr"></span>
    <span class="corner bl"></span>
    <span class="corner br"></span>
    <h2 class="section-title">أفضل 3 مندوبين</h2>
    <div class="salespeople-list">
      <div
        *ngFor="let person of topSalespeople; index as index"
        class="salesperson-card"
        [class.rank-1]="index === 0"
        [class.rank-2]="index === 1"
        [class.rank-3]="index === 2"
      >
        <div class="salesperson-content">
          <div class="profile-section">
            <!-- Medal Badge -->
            <div class="medal-badge">
              <img
                class="medal-icon"
                [src]="getMedalIcon(index + 1)"
                alt="medal"
              />
            </div>
            <div class="profile-image-wrapper">
              <!-- Profile Image -->
              <img
                [src]="
                  person.profileImage
                    ? person.profileImage
                    : './assets/img/avatar-male.svg'
                "
                [alt]="person.salesName"
                class="profile-image"
              />
            </div>
            <h3 class="salesperson-name">{{ person.salesName }}</h3>
          </div>

          <div class="stat-item">
            <span class="stat-label">إجمالي المبيعات</span>
            <span class="stat-value">{{
              formatCurrency(person.totalBudget)
            }}</span>
          </div>

          <div class="stat-item">
            <span class="stat-label">إجمالي الصفقات</span>
            <span class="stat-value">{{ person.totalLeads }} صفقة مغلقة</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
